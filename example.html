<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Admin - Exams & Grading</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts (Inter) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- ApexCharts -->

    <style>
        :root {
            --bg-dark: #111827;
            --bg-sidebar: #1f2937;
            --bg-card: #1f2937;
            --text-main: #ffffff;
            --text-muted: #9ca3af;
            --accent-purple: #6366f1;
            --accent-blue: #3b82f6;
            --border-color: #374151;
          
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --accent-info: #0ea5e9;
          
            --sidebar-width: 260px;
            --sidebar-width-collapsed: 90px;
            --sidebar-left-pos: 16px;
            --sidebar-padding-x: 16px;
          
            --anim-speed: 0.3s;
            --scrollbar-thumb: #4b5563;
            --scrollbar-track: transparent;
            --input-bg: rgba(255, 255, 255, 0.05);
            --icon-box-light: rgba(0, 0, 0, 0.03);
          }
          
          body.light-mode {
            --bg-dark: #f3f4f6;
            --bg-sidebar: #ffffff;
            --bg-card: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
            --input-bg: #ffffff;
            --scrollbar-thumb: #cbd5e1;
          }
          
          body {
            font-family: "Inter", sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            overflow-x: hidden;
            transition: background-color 0.3s ease;
            display: flex;
            min-height: 100vh;
            flex-direction: column;
          }
          
          ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
          }
          
          ::-webkit-scrollbar-thumb {
            background-color: var(--scrollbar-thumb);
            border-radius: 10px;
          }
          
          .text-muted {
            color: var(--text-muted) !important;
          }
          
          a {
            text-decoration: none;
          }
          
          /* --- GLOBAL: SIDEBAR LAYOUT --- */
          .mobile-menu-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 999;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: none;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            border: none;
            color: white;
            box-shadow: 0 4px 15px rgba(236, 72, 153, 0.4);
            transition: all 0.2s;
          }
          
          .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            backdrop-filter: blur(2px);
          }
          
          .sidebar-overlay.show {
            opacity: 1;
            visibility: visible;
          }
          
          .sidebar {
            width: var(--sidebar-width);
            background-color: var(--bg-sidebar);
            height: calc(100vh - 32px);
            position: fixed;
            top: 16px;
            left: var(--sidebar-left-pos);
            padding: 24px 0 24px var(--sidebar-padding-x);
            border-radius: 24px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            overflow: visible;
          }
          
          .sidebar-header {
            margin-bottom: 20px;
            padding-left: 10px;
            display: flex;
            align-items: center;
            min-height: 40px;
            flex-shrink: 0;
            position: relative;
          }
          
          .brand-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-main);
            width: 100%;
            transition: all 0.3s ease;
          }
          
          .brand-logo img {
            height: 32px;
            width: auto;
            object-fit: contain;
          }
          
          .sidebar-divider {
            height: 3px;
            background-color: rgba(255, 255, 255, 0.15);
            margin: 0 -16px 20px;
            flex-shrink: 0;
            border-radius: 2px;
          }
          
          .nav-scrollable {
            flex-grow: 1;
            overflow-y: auto;
            overflow-x: hidden;
            min-height: 0;
            display: flex;
            flex-direction: column;
            padding-right: 4px;
            /* [MODIFIED] GLOBAL: Menambahkan jarak bawah agar tidak mepet dengan profile card */
            margin-bottom: 20px;
          }
          
          .nav-category {
            font-size: 0.68rem;
            padding: 0 16px;
            margin: 28px 0 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.4px;
            color: #64748b; /* slate-500 */
            position: relative;
          }
          
          .nav-category::before {
            content: "";
            position: absolute;
            left: 16px;
            bottom: -5px;
            width: 18px;
            height: 2px;
            background: #475569; /* slate-600 */
            opacity: 0.4;
            border-radius: 100px;
          }
          
          
          
          
          
          
          
          
          
          /* ======================================================================
                     [MODIFIED START] MENU ITEMS STYLING - FIXED FOR USER REQUEST
                     ====================================================================== */
                  
                  /* 1. Base Styling for All Nav Links */
                  .nav-link {
                    color: var(--text-muted);
                    padding: 10px 12px;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    margin-bottom: 4px;
                    margin-right: 12px;
                    transition: all 0.2s;
                    font-weight: 500;
                    white-space: nowrap;
                    flex-shrink: 0;
                    position: relative;
                    border: 1px solid transparent;
                }
          
                .nav-link:hover {
                    color: var(--text-main);
                    background-color: rgba(255, 255, 255, 0.03);
                }
          
                /* Base Icon Style */
                .nav-link i:not(.arrow-icon) {
                    width: 36px;
                    height: 36px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background-color: rgba(255, 255, 255, 0.03);
                    border-radius: 10px;
                    color: var(--text-muted);
                    flex-shrink: 0;
                    transition: all 0.3s;
                }
          
                .arrow-icon {
                    margin-left: auto;
                    font-size: 0.8rem;
                    transition: transform 0.3s ease;
                    color: var(--text-muted);
                }
          
                /* 2. MENU TUNGGAL ACTIVE (Single Menu)
                   Rule: Jika menu active TAPI bukan parent (tidak punya submenu/collapse),
                   maka button-nya full color gradient.
                */
                .nav-link.active:not([data-bs-toggle="collapse"]),
                .nav-link.active-btn:not([data-bs-toggle="collapse"]) {
                    background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
                    color: white !important;
                    box-shadow: 0 4px 10px rgba(236, 72, 153, 0.4);
                    border-color: transparent;
                }
          
                /* Icon inside Single Menu Active */
                .nav-link.active:not([data-bs-toggle="collapse"]) i:not(.arrow-icon),
                .nav-link.active-btn:not([data-bs-toggle="collapse"]) i:not(.arrow-icon) {
                    color: white !important;
                    background-color: rgba(255, 255, 255, 0.2) !important;
                }
          
                /* 3. MENU INDUK / PARENT ACTIVE (Menu with SubMenu)
                   Rule: Ketika active/expanded, HANYA ICON yang active color.
                   Background tombol transparan.
                */
                .nav-link[data-bs-toggle="collapse"][aria-expanded="true"],
                .nav-link[data-bs-toggle="collapse"].active {
                    background: transparent !important;
                    color: var(--text-main) !important;
                    box-shadow: none !important;
                }
          
                /* Icon Parent Menu - Gradient Background */
                .nav-link[data-bs-toggle="collapse"][aria-expanded="true"] i:not(.arrow-icon),
                .nav-link[data-bs-toggle="collapse"].active i:not(.arrow-icon) {
                    background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%) !important;
                    color: white !important;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
                }
          
                /* Arrow Rotation for Parent Menu */
                .nav-link[data-bs-toggle="collapse"][aria-expanded="true"] .arrow-icon {
                    transform: rotate(90deg);
                    color: var(--text-main) !important;
                }
          
                /* 4. SUBMENU ITEM ACTIVE
                   Rule: Text gradient color, button background minimalis.
                */
                .nav-submenu {
                    padding-left: 0;
                    list-style: none;
                    margin: 0;
                    display: flex;
                    flex-direction: column;
                    gap: 2px;
                    padding-top: 4px;
                    padding-bottom: 4px;
                }
          
                .nav-submenu .nav-link {
                    padding-left: 50px;
                    height: 40px;
                    font-size: 0.85rem;
                    margin: 0;
                    margin-right: 12px;
                    background: transparent !important;
                    box-shadow: none !important;
                    color: var(--text-muted) !important;
                    transition: all 0.2s ease-in-out;
                    opacity: 0.7;
                }
          
                .collapse.show .nav-submenu .nav-link {
                    opacity: 1;
                }
          
                .nav-submenu .nav-link:hover {
                    color: var(--text-main) !important;
                    background-color: rgba(255, 255, 255, 0.05) !important;
                    padding-left: 53px;
                    opacity: 1;
                }
          
                /* Submenu Active State */
                .nav-submenu .nav-link.active {
                    background: rgba(255, 255, 255, 0.05) !important;
                    font-weight: 700;
                    opacity: 1;
                }
          
                /* GRADIENT TEXT for Active Submenu Item */
                .nav-submenu .nav-link.active span {
                    background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    display: inline-block; /* Ensure gradient works on inline text */
                }
                
                /* [MODIFIED END] */
          
          
          /* [ADDED] GLOBAL: Styles untuk Label & Divider di Submenu Pengaturan */
          .nav-submenu-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.08);
            margin: 8px 12px 8px 50px;
          }
          
          body.light-mode .nav-submenu-divider {
            background: rgba(0, 0, 0, 0.08);
          }
          
          .nav-submenu-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            color: var(--text-muted);
            margin: 8px 0 4px 50px;
            font-weight: 700;
            letter-spacing: 0.5px;
            opacity: 0.7;
          }
          
          /* --- GLOBAL: MODERN PROFILE MENU --- */
          .profile-wrapper {
            margin-top: auto;
            width: 100%;
            padding: 0 16px 16px 0px;
            flex-shrink: 0;
            position: relative;
          }
          
          .user-profile-btn {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 8px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
          }
          
          .user-profile-btn.dropdown-toggle::after {
            display: none !important;
          }
          
          .user-profile-btn:hover,
          .user-profile-btn[aria-expanded="true"] {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(99, 102, 241, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
          }
          
          .user-profile-btn[aria-expanded="true"] .profile-chevron {
            transform: rotate(180deg);
            color: var(--text-main);
          }
          
          .avatar-container {
            position: relative;
            flex-shrink: 0;
          }
          
          .avatar-modern {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 4px 10px rgba(99, 102, 241, 0.3);
          }
          
          .status-dot {
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 14px;
            height: 14px;
            background-color: var(--accent-green);
            border: 3px solid var(--bg-sidebar);
            border-radius: 50%;
            z-index: 2;
          }
          
          .status-dot.pulse {
            animation: statusPulse 2s infinite;
          }
          
          @keyframes statusPulse {
            0% {
              box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
            }
          
            70% {
              box-shadow: 0 0 0 6px rgba(16, 185, 129, 0);
            }
          
            100% {
              box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
            }
          }
          
          .user-info-modern {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
          }
          
          .user-name-modern {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-main);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
          
          .user-role-modern {
            font-size: 0.75rem;
            color: var(--text-muted);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
          
          .profile-chevron {
            color: var(--text-muted);
            transition: transform 0.3s;
            font-size: 0.9rem;
          }
          
          .profile-dropdown-menu {
            position: absolute;
            bottom: 100% !important;
            left: 0;
            width: 100%;
            margin-bottom: 12px !important;
            padding: 8px;
            border-radius: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            box-shadow: 0 -10px 40px -10px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            background: rgba(31, 41, 55, 0.95);
            animation: slideUpFade 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            transform-origin: bottom center;
            transform: none !important;
          }
          
          body.light-mode .profile-dropdown-menu {
            background: rgba(255, 255, 255, 0.95);
          }
          
          @keyframes slideUpFade {
            from {
              opacity: 0;
              transform: translateY(10px) scale(0.95);
            }
          
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          .dropdown-header-modern {
            padding: 12px 16px 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 6px;
          }
          
          body.light-mode .dropdown-header-modern {
            border-bottom-color: rgba(0, 0, 0, 0.05);
          }
          
          .menu-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            font-weight: 700;
            margin-bottom: 4px;
          }
          
          .menu-user-email {
            font-size: 0.8rem;
            color: var(--text-main);
            opacity: 0.8;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
          
          .profile-menu-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 16px;
            border-radius: 12px;
            color: var(--text-muted);
            text-decoration: none;
            transition: all 0.2s;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 2px;
          }
          
          .profile-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-main);
          }
          
          body.light-mode .profile-menu-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
          }
          
          .profile-menu-item.danger-item:hover {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--accent-red);
          }
          
          .item-left {
            display: flex;
            align-items: center;
            gap: 12px;
          }
          
          .item-icon {
            font-size: 1.1rem;
          }
          
          .theme-switch-wrapper {
            display: flex;
            align-items: center;
          }
          
          .form-check-input.custom-switch {
            width: 36px;
            height: 20px;
            cursor: pointer;
            background-color: var(--border-color);
            border-color: transparent;
          }
          
          .form-check-input.custom-switch:checked {
            background-color: var(--accent-purple);
            border-color: transparent;
          }
          
          /* --- GLOBAL: COLLAPSE BUTTON --- */
          .sidebar-collapse-btn {
            position: absolute;
            top: 22px;
            right: -15px;
            width: 32px;
            height: 32px;
            background: var(--bg-sidebar);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            cursor: pointer;
            z-index: 1001;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
          }
          
          .sidebar-collapse-btn:hover {
            color: var(--accent-purple);
            border-color: var(--accent-purple);
            box-shadow: 2px 2px 12px rgba(99, 102, 241, 0.3);
          }
          
          /* --- GLOBAL: SIDEBAR COLLAPSED STATE --- */
          .sidebar.collapsed {
            width: var(--sidebar-width-collapsed);
            padding: 24px 12px;
          }
          
          .sidebar.collapsed .brand-logo {
            justify-content: center;
            padding-left: 0;
            width: 100%;
          }
          
          .sidebar.collapsed .logo-text,
          .sidebar.collapsed .nav-link span,
          .sidebar.collapsed .nav-category,
          .sidebar.collapsed .arrow-icon,
          .sidebar.collapsed .user-info,
          .sidebar.collapsed .user-info-modern,
          .sidebar.collapsed .profile-chevron {
            display: none;
          }
          
          .sidebar.collapsed .collapse {
            display: none !important;
          }
          
          .sidebar.collapsed .sidebar-header {
            padding-left: 0;
            justify-content: center;
          }
          
          .sidebar.collapsed .nav-link,
          .sidebar.collapsed .user-profile-btn {
            justify-content: center;
            padding: 8px;
            margin-right: 0;
          }
          
          .sidebar.collapsed .sidebar-collapse-btn i {
            transform: rotate(180deg);
          }
          
          /* --- GLOBAL: MAIN CONTENT WRAPPER --- */
          .main-content {
            margin-left: calc(var(--sidebar-left-pos) + var(--sidebar-width) + 24px);
            width: calc(100% - (var(--sidebar-left-pos) + var(--sidebar-width) + 24px));
            padding: 30px 30px 20px;
            transition: all 0.3s ease;
            flex-grow: 1;
            /* Agar footer terdorong ke bawah jika konten sedikit */
            display: flex;
            flex-direction: column;
             /* [ADDED FOR STICKY FOOTER] */
             min-height: 100vh; 
          }
          
          body.sidebar-collapsed .main-content {
            margin-left: calc(
              var(--sidebar-left-pos) + var(--sidebar-width-collapsed) + 24px
            );
            width: calc(
              100% - (var(--sidebar-left-pos) + var(--sidebar-width-collapsed) + 24px)
            );
          }
          
          /* START OF GLOBAL: COPYRIGHT FOOTER */
          .footer-dashboard {
            margin-top: auto; 
            padding-top: 2rem;
            margin-bottom: 0.5rem;
            border-top: 1px solid var(--border-color);
            
            /* [ADDED FOR STICKY FOOTER] */
          
          }
          
          .footer-link {
            color: var(--text-muted);
            transition: color 0.2s ease;
            text-decoration: none;
            font-size: 0.85rem;
          }
          
          .footer-link:hover {
            color: var(--accent-purple);
          }
          
          /* END OF GLOBAL: COPYRIGHT FOOTER */
          
          /* --- GLOBAL: TOP NAVBAR & SEARCH & NOTIFICATIONS --- */
          /* [MODIFIED] Flexbox updated for responsive search and notification */
          .top-navbar-standalone {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 16px;
            margin-bottom: 10px;
          }
          
          .search-standalone-box {
            position: relative;
            width: 300px;
            transition: width 0.3s ease;
          }
          
          .search-standalone-input {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 12px 20px 12px 48px;
            color: var(--text-main);
          }
          
          .search-standalone-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
          }
          
          .search-standalone-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-purple);
          }
          
          /* [NEW] Notification Styling */
          .notification-wrapper {
            position: relative;
          }
          
          .notification-btn {
            width: 46px;
            height: 46px;
            border-radius: 14px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
          }
          
          .notification-btn:hover,
          .notification-btn[aria-expanded="true"] {
            background: rgba(255, 255, 255, 0.05);
            color: var(--accent-purple);
            border-color: var(--accent-purple);
            transform: translateY(-1px);
          }
          
          body.light-mode .notification-btn:hover {
            background: rgba(0, 0, 0, 0.05);
          }
          
          /* [NEW] Red Pulsating Dot */
          .notification-dot-red {
            position: absolute;
            top: 10px;
            right: 12px;
            width: 8px;
            height: 8px;
            background-color: var(--accent-red);
            border-radius: 50%;
            z-index: 2;
            animation: notifPulse 1.5s infinite;
          }
          
          @keyframes notifPulse {
            0% {
              box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
            }
          
            70% {
              box-shadow: 0 0 0 4px rgba(239, 68, 68, 0);
            }
          
            100% {
              box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
          }
          
          /* [NEW] Notification Dropdown */
          .notification-dropdown-menu {
            position: absolute;
            top: 100% !important;
            right: 0 !important;
            left: auto !important;
            margin-top: 12px !important;
            width: 320px;
            padding: 8px;
            border-radius: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            box-shadow: 0 15px 40px -10px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            background: rgba(31, 41, 55, 0.95);
            animation: slideDownFade 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            transform: none !important;
          }
          
          body.light-mode .notification-dropdown-menu {
            background: rgba(255, 255, 255, 0.95);
          }
          
          @keyframes slideDownFade {
            from {
              opacity: 0;
              transform: translateY(-10px) scale(0.95);
            }
          
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          .notification-item {
            padding: 12px;
            border-radius: 12px;
            display: flex;
            gap: 12px;
            align-items: start;
            color: var(--text-muted);
            text-decoration: none;
            transition: background 0.2s;
            margin-bottom: 4px;
          }
          
          .notification-item:hover {
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-main);
          }
          
          body.light-mode .notification-item:hover {
            background: rgba(0, 0, 0, 0.03);
          }
          
          .notif-icon-box {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 1rem;
          }
          
          .bg-soft-danger {
            background: rgba(239, 68, 68, 0.15);
            color: var(--accent-red);
          }
          
          .bg-soft-success {
            background: rgba(16, 185, 129, 0.15);
            color: var(--accent-green);
          }
          
          .bg-soft-info {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
          }
          
          .notif-content h6 {
            font-size: 0.85rem;
            margin-bottom: 2px;
            font-weight: 600;
            color: var(--text-main);
          }
          
          .notif-content p {
            font-size: 0.75rem;
            margin-bottom: 0;
            opacity: 0.8;
          }
          
          .notif-time {
            font-size: 0.7rem;
            opacity: 0.6;
            margin-top: 4px;
            display: block;
          }
          
          .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: #6366f1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 10px rgba(99, 102, 241, 0.5);
            cursor: pointer;
            z-index: 900;
          }
          
          .card-header-custom {
            border-bottom: 1px solid var(--border-color);
            margin: 0;
            padding: 20px 24px;
            background-color: rgba(0, 0, 0, 0.02);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
          }
          
          .widget-card {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            transition: 0.3s;
            height: 100%;
            color: var(--text-main);
          }
          
          .widget-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-color: var(--accent-purple);
          }
          
          /* ======================================================================
                     2. SPECIFIC: DASHBOARD STYLES (KHUSUS HALAMAN DASHBOARD)
                     ====================================================================== */
          .welcome-banner {
            background: linear-gradient(135deg, #4f46e5 0%, #9333ea 100%);
            border-radius: 24px;
            padding: 40px 30px;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
          }
          
          .welcome-shape {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
          }
          
          .dash-stat-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
          }
          
          .dash-icon-box {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
          }
          
          .dash-trend-up {
            color: var(--accent-green);
            font-size: 0.85rem;
            font-weight: 600;
          }
          
          .dash-trend-down {
            color: var(--accent-red);
            font-size: 0.85rem;
            font-weight: 600;
          }
          
          .activity-feed {
            position: relative;
            padding-left: 20px;
            border-left: 2px solid var(--border-color);
          }
          
          .activity-item {
            position: relative;
            margin-bottom: 25px;
          }
          
          .activity-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 2px solid var(--accent-purple);
            position: absolute;
            left: -27px;
            top: 5px;
          }
          
          .table-dashboard {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
          }
          
          .table-dashboard th {
            padding: 15px;
            text-align: left;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border-color);
            white-space: nowrap;
          }
          
          .table-dashboard td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: middle;
            color: var(--text-main);
            font-size: 0.9rem;
          }
          
          /* ======================================================================
                     3. SPECIFIC: CARDS & WIDGETS STYLES (KHUSUS HALAMAN CARDS)
                     ====================================================================== */
          .active-page-header {
            padding: 30px;
            border-radius: 24px;
            background-color: var(--bg-card);
            position: relative;
            margin-bottom: 3.5rem;
            border: 2px solid transparent;
            background-image: linear-gradient(var(--bg-card), var(--bg-card)),
              linear-gradient(135deg, #ec4899 0%, #8b5cf6 50%, #3b82f6 100%);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            box-shadow: 0 10px 40px -10px rgba(99, 102, 241, 0.15);
          }
          
          .page-title-large {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            background: linear-gradient(
              90deg,
              var(--text-main) 0%,
              var(--accent-purple) 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
          }
          
          body.light-mode .page-title-large {
            background: none;
            -webkit-text-fill-color: var(--text-main);
            color: var(--text-main);
          }
          
          .header-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            background: rgba(99, 102, 241, 0.1);
            color: var(--accent-purple);
            font-size: 0.75rem;
            font-weight: 700;
            border: 1px solid rgba(99, 102, 241, 0.2);
            white-space: nowrap;
          }
          
          .breadcrumb-modern {
            display: inline-flex;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 6px 16px;
            border-radius: 50px;
            gap: 8px;
            font-size: 0.85rem;
          }
          
          body.light-mode .breadcrumb-modern {
            background-color: rgba(0, 0, 0, 0.03);
            border-color: var(--border-color);
          }
          
          .breadcrumb-item-custom {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--text-muted);
            font-weight: 500;
            text-decoration: none;
            transition: color 0.2s;
          }
          
          .breadcrumb-item-custom:hover {
            color: var(--accent-purple);
          }
          
          .breadcrumb-item-custom.active {
            color: var(--text-main);
            font-weight: 600;
            cursor: default;
          }
          
          .breadcrumb-home-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-purple);
          }
          
          .breadcrumb-sep {
            font-size: 0.7rem;
            color: var(--text-muted);
            opacity: 0.6;
          }
          
          .section-label-custom {
            color: var(--text-main);
            opacity: 0.9;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            font-size: 0.85rem;
            font-weight: 700;
            margin-top: 1rem;
          }
          
          .card-outline {
            background: transparent;
          }
          
          .card-outline-primary {
            border-color: rgba(99, 102, 241, 0.3);
            color: var(--accent-purple);
          }
          
          .card-outline-success {
            border-color: rgba(16, 185, 129, 0.3);
            color: var(--accent-green);
          }
          
          .card-outline-gradient {
            background: linear-gradient(var(--bg-card), var(--bg-card)) padding-box,
              linear-gradient(135deg, #ec4899, #8b5cf6) border-box;
            border: 2px solid transparent;
            border-radius: 16px;
          }
          
          .card-solid-gradient {
            border: none;
            color: white !important;
          }
          
          .bg-grad-1 {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
          }
          
          .bg-grad-2 {
            background: linear-gradient(135deg, #3b82f6 0%, #14b8a6 100%);
          }
          
          .card-bg-shape {
            position: absolute;
            right: -20px;
            bottom: -20px;
            font-size: 8rem;
            opacity: 0.15;
            transform: rotate(-15deg);
          }
          
          .card-media-top {
            height: 180px;
            border-radius: 16px 16px 0 0;
            margin: -24px -24px 20px -24px;
            overflow: hidden;
          }
          
          .card-media-top img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }
          
          .card-media-overlay {
            height: 250px;
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
          }
          
          .card-media-overlay::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
          }
          
          .profile-cover-img {
            height: 100px;
            background-size: cover;
            background-position: center;
            border-radius: 16px 16px 0 0;
            margin: -24px -24px 0 -24px;
          }
          
          .profile-overlap-avatar {
            margin-top: -40px;
            position: relative;
            z-index: 2;
          }
          
          .profile-overlap-avatar img {
            width: 80px;
            height: 80px;
            border: 4px solid var(--bg-card);
            object-fit: cover;
          }
          
          .card-footer-custom {
            border-top: 1px solid var(--border-color);
            margin: 0;
            padding: 15px 24px;
            background-color: rgba(0, 0, 0, 0.02);
            border-radius: 0 0 16px 16px;
          }
          
          .widget-weather {
            background: linear-gradient(to bottom right, #38bdf8, #2563eb);
            color: white;
            border: none;
          }
          
          .icon-square {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
          }
          
          .circular-chart {
            display: block;
            margin: 0 auto;
            max-width: 80%;
            max-height: 250px;
          }
          
          .circle-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 3.8;
          }
          
          .circle {
            fill: none;
            stroke-width: 2.8;
            stroke-linecap: round;
            animation: progress 1s ease-out forwards;
          }
          
          @keyframes progress {
            0% {
              stroke-dasharray: 0 100;
            }
          }
          
          .percentage {
            fill: var(--text-main);
            font-family: sans-serif;
            font-weight: bold;
            font-size: 0.5em;
            text-anchor: middle;
          }
          
          @media (max-width: 768px) {
            .sidebar {
              transform: translateX(-120%);
              width: 260px !important;
              padding-right: 16px;
            }
          
            .sidebar.active {
              transform: translateX(0);
            }
          
            .main-content {
              margin-left: 0;
              width: 100%;
              padding: 20px;
              /* [MODIFIED] Removed padding-top: 80px to fix vertical alignment */
            }
          
            .mobile-menu-btn {
              display: flex;
            }
          
            /* [MODIFIED] Mobile Responsive Top Bar (Alignment Fix) */
            .top-navbar-standalone {
              justify-content: flex-end;
              /* Keep aligned to right */
              /* [MODIFIED] Increased padding-left to clear Hamburger button safely */
              padding-left: 70px;
              margin-bottom: 20px;
              gap: 10px;
              /* Slightly tighter gap for mobile */
            }
          
            .search-standalone-box {
              width: auto;
              flex-grow: 1;
              /* Expand to fill space */
              max-width: 100%;
            }
          
            /* [MODIFIED] Adjust search input height/padding for better alignment */
            .search-standalone-input {
              padding-left: 40px;
              padding-top: 10px;
              padding-bottom: 10px;
            }
          
            .search-standalone-icon {
              left: 14px;
            }
          
            /* [MODIFIED] Slightly smaller notification button on mobile */
            .notification-btn {
              width: 42px;
              height: 42px;
              font-size: 1.1rem;
            }
          }
          
          
            /* Section Titles */
            .section-title-modern {
              font-size: 1rem;
              font-weight: 700;
              color: var(--text-main);
              margin: 40px 0 20px;
              padding-left: 12px;
              border-left: 4px solid var(--accent-purple);
              letter-spacing: 0.5px;
              text-transform: uppercase;
              padding-bottom: 10px;
          }
    </style>
</head>

<body id="body-container">

    <button class="mobile-menu-btn" id="mobileMenuBtn"><i class="bi bi-list" style="font-size: 1.5rem;"></i></button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <div>
        <!-- SIDEBAR -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <!-- [MODIFIED] Menggunakan IMG, bukan Icon -->
                <div class="brand-logo">
                    <img src="https://placehold.co/100x100/6366f1/ffffff?text=N" alt="Nexus Logo">
                    <span class="logo-text">Nexus</span>
                </div>
                <!-- [MODIFIED] Tombol Collapse -->
                <div class="sidebar-collapse-btn" id="collapseBtn"><i class="bi bi-chevron-left"></i></div>
            </div>
            <!-- [MODIFIED] Divider lebih tebal -->
            <div class="sidebar-divider"></div>

            <!-- [MODIFIED] NEW CATEGORIZED SIDEBAR STRUCTURE -->
            <div class="nav flex-column flex-nowrap nav-scrollable">
                <div class="nav-category">UTAMA</div>
                <a href="home.html" class="nav-link "><i class="bi bi-grid-1x2-fill"></i>
                    <span>Dashboard</span></a>
                <a href="analytic.html" class="nav-link "><i class="bi bi-graph-up-arrow"></i>
                    <span>Analytics</span></a>

                <a class="nav-link" data-bs-toggle="collapse" href="#menuBusiness">
                    <i class="bi bi-shop"></i>
                    <span>E-Commerce</span> <i class="bi bi-chevron-right arrow-icon"></i>
                </a>
                <div class="collapse" id="menuBusiness">
                    <div class="nav-submenu">

                        <a href="/products.html" class="nav-link "><span>Produk & Stok</span></a>
                        <a href="/orders.html" class="nav-link "><span>Pesanan</span></a>
                        <a href="/customers.html" class="nav-link "><span>Pelanggan (CRM)</span></a>
                        <a href="/pos.html" class="nav-link"><span>Kasir (POS)</span></a>
                    </div>
                </div>
                <!-- SEKTOR FINANSIAL (CRYPTO & PERUSAHAAN) -->
                <div class="nav-category">FINANSIAL & CRYPTO</div>
                <a class="nav-link " data-bs-toggle="collapse" href="#menuFinance"><i class="bi bi-wallet2"></i>
                    <span>Keuangan</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuFinance">
                    <div class="nav-submenu">
                        <a href="wallet.html" class="nav-link "><span>Dompet Digital</span></a>
                        <a href="transactions.html" class="nav-link "><span>Riwayat Transaksi</span></a>
                        <a href="crypto-market.html" class="nav-link "><span>Crypto Market</span></a>
                        <a href="invoices.html" class="nav-link"><span>Faktur & Tagihan</span></a>
                    </div>
                </div>


                <!-- SEKTOR PENDIDIKAN -->
                <div class="nav-category">PENDIDIKAN</div>
                <a class="nav-link " data-bs-toggle="collapse" href="#menuEdu" ><i
                        class="bi bi-mortarboard"></i>
                    <span>Akademik</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse " id="menuEdu">
                    <div class="nav-submenu">
                        <a href="courses.html" class="nav-link "><span>Kelas / Kursus</span></a>
                        <a href="students.html" class="nav-link"><span>Siswa & Pengajar</span></a>
                        <a href="schedule.html" class="nav-link "><span>Jadwal Pelajaran</span></a>
                        <a href="exams.html" class="nav-link"><span>Ujian & Nilai</span></a>
                    </div>
                </div>

                <!-- SEKTOR MASYARAKAT & UMUM -->
                <div class="nav-category">SOSIAL & KOMUNITAS</div>
                <a class="nav-link " data-bs-toggle="collapse" href="#menuSocial"><i class="bi bi-people"></i>
                    <span>Komunitas</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuSocial">
                    <div class="nav-submenu">
                        <a href="members.html" class="nav-link"><span>Data Anggota</span></a>
                        <a href="events.html" class="nav-link"><span>Event & Kegiatan</span></a>
                        <a href="donations.html" class="nav-link"><span>Donasi & Iuran</span></a>
                        <a href="forum.html" class="nav-link"><span>Forum Diskusi</span></a>
                    </div>
                </div>

                <!-- TOOLS & SYSTEM (Generic) -->
                <div class="nav-category">SYSTEM TOOLS</div>

                <a class="nav-link " data-bs-toggle="collapse" href="#menuApps"><i class="bi bi-grid"></i>
                    <span>Aplikasi</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuApps">
                    <div class="nav-submenu">
                        <a href="email.html" class="nav-link"><span>Email</span></a>
                        <a href="chat.html" class="nav-link"><span>Chat</span></a>
                        <a href="calendar.html" class="nav-link"><span>Calendar</span></a>
                        <a href="file-manager.html" class="nav-link"><span>File Manager</span></a>
                    </div>
                </div>

                <a class="nav-link " data-bs-toggle="collapse" href="#menuUI"><i class="bi bi-layers"></i>
                    <span>UI Components</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuUI">
                    <div class="nav-submenu">
                        <a href="alerts.html" class="nav-link"><span>Alerts</span></a>
                        <a href="buttons.html" class="nav-link"><span>Buttons</span></a>
                        <a href="cards.html" class="nav-link"><span>Cards & Widgets</span></a>
                        <a href="modals.html" class="nav-link"><span>Modals</span></a>
                        <a href="wizard.html" class="nav-link"><span>Wizard</span></a>
                        <a href="toast-notify.html" class="nav-link"><span>Toast & Notify</span></a>
                    </div>
                </div>

                <a class="nav-link " data-bs-toggle="collapse" href="#menuForms"><i class="bi bi-file-text"></i>
                    <span>Forms & Tables</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuForms">
                    <div class="nav-submenu">
                        <a href="form.html" class="nav-link"><span>Form Elements</span></a>
                        <a href="table.html" class="nav-link"><span>Data Tables</span></a>
                    </div>
                </div>

                <a class="nav-link " data-bs-toggle="collapse" href="#menuPages"><i class="bi bi-file-lock"></i>
                    <span>Otentikasi</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuPages">
                    <div class="nav-submenu">

                        <a href="profile.html" class="nav-link" target="_blank"><span>Profile</span></a>
                        <a href="login.html" class="nav-link" target="_blank"><span>Login</span></a>
                        <a href="register.html" class="nav-link" target="_blank"><span>Register</span></a>
                        <a href="reset-password.html" class="nav-link" target="_blank"><span>Reset Password</span></a>
                        <a href="lock-screen.html" class="nav-link" target="_blank"><span>Lock Screen</span></a>
                        <a href="coming-soon.html" class="nav-link" target="_blank"><span>Coming Soon</span></a>
                        <a href="maintenance.html" class="nav-link" target="_blank"><span>Maintenance</span></a>
                        <a href="403.html" class="nav-link" target="_blank"><span>Error 403</span></a>
                        <a href="404.html" class="nav-link" target="_blank"><span>Error 404</span></a>
                        <a href="500.html" class="nav-link" target="_blank"><span>Error 500</span></a>
                        <a href="503.html" class="nav-link" target="_blank"><span>Error 503</span></a>
                        <a href="504.html" class="nav-link" target="_blank"><span>Error 504</span></a>
                        <a href="505.html" class="nav-link" target="_blank"><span>Error 505</span></a>
                        <a href="506.html" class="nav-link" target="_blank"><span>Error 506</span></a>
                        <a href="507.html" class="nav-link" target="_blank"><span>Error 507</span></a>
                    </div>
                </div>

                <!-- [MODIFIED] Menu Pengaturan (Tetap menggunakan struktur detail yang lama) -->
                <a class="nav-link " data-bs-toggle="collapse" href="#menuSettings"><i class="bi bi-gear"></i>
                    <span>Pengaturan</span> <i class="bi bi-chevron-right arrow-icon"></i></a>
                <div class="collapse" id="menuSettings">
                    <div class="nav-submenu">
                        <div class="nav-submenu-label">Platform & Identitas</div>
                        <a href="setting-general.html" class="nav-link"><span>Identitas & SEO</span></a>
                        <a href="setting-appearance.html" class="nav-link"><span>Tampilan & Tema</span></a>
                        <a href="setting-localization.html" class="nav-link"><span>Bahasa & Wilayah</span></a>

                        <div class="nav-submenu-divider"></div>

                        <div class="nav-submenu-label">Bisnis & Keuangan</div>
                        <a href="setting-currency.html" class="nav-link"><span>Mata Uang & Kripto</span></a>
                        <a href="setting-payment.html" class="nav-link"><span>Metode Pembayaran</span></a>
                        <a href="setting-tax.html" class="nav-link"><span>Pajak & Biaya Layanan</span></a>

                        <div class="nav-submenu-divider"></div>

                        <div class="nav-submenu-label">Operasional</div>
                        <a href="setting-schedule.html" class="nav-link"><span>Jam Kerja & Jadwal</span></a>
                        <a href="setting-notification.html" class="nav-link"><span>Notifikasi (WA/Email)</span></a>

                        <div class="nav-submenu-divider"></div>

                        <div class="nav-submenu-label">Sistem</div>
                        <a href="setting-users.html" class="nav-link"><span>Pengguna & Akses</span></a>
                        <a href="setting-api.html" class="nav-link"><span>API & Webhooks</span></a>
                        <a href="setting-logs.html" class="nav-link"><span>System Logs</span></a>
                    </div>
                </div>
            </div>

            <!-- [MODIFIED] MODERN PROFILE MENU -->
            <div class="dropup profile-wrapper">
                <!-- Trigger Button -->
                <!-- [FIX] Added data-bs-display="static" to prevent popping behavior -->
                <div class="user-profile-btn dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"
                    data-bs-display="static">
                    <div class="avatar-container">
                        <div class="avatar-modern">A</div>
                        <div class="status-dot pulse"></div> <!-- Online Indicator -->
                    </div>
                    <div class="user-info-modern">
                        <div class="user-name-modern">Admin Pusat</div>
                        <div class="user-role-modern">Super Admin</div>
                    </div>
                    <i class="bi bi-chevron-up profile-chevron"></i>
                </div>

                <!-- Modern Dropdown Content -->
                <ul class="dropdown-menu profile-dropdown-menu">
                    <div class="dropdown-header-modern">
                        <div class="menu-label">SIGNED IN AS</div>
                        <div class="menu-user-email">admin@nexus.com</div>
                    </div>

                    <li><a class="profile-menu-item" href="profile-me.html">
                            <div class="item-left"><i class="bi bi-person item-icon"></i> <span>Profile</span></div>
                        </a></li>
                    <li><a class="profile-menu-item" href="edit-profile.html">
                            <div class="item-left"><i class="bi bi-sliders item-icon"></i> <span>Settings</span></div>
                        </a></li>

                    <!-- Functional Dark Mode Switch inside Menu -->
                    <li>
                        <div class="profile-menu-item" style="cursor: default;">
                            <div class="item-left"><i class="bi bi-moon-stars item-icon"></i> <span>Dark Mode</span>
                            </div>
                            <div class="form-check form-switch theme-switch-wrapper mb-0">
                                <input class="form-check-input custom-switch" type="checkbox" id="menuThemeSwitch">
                            </div>
                        </div>
                    </li>

                    <div style="height: 1px; background: rgba(255,255,255,0.08); margin: 6px 0;"></div>

                    <li><a class="profile-menu-item danger-item" href="login.html">
                            <div class="item-left"><i class="bi bi-box-arrow-left item-icon"></i> <span>Sign Out</span>
                            </div>
                        </a></li>
                </ul>
            </div>

        </nav>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- Navbar -->
            <div class="top-navbar-standalone">
                <div class="search-standalone-box">
                    <i class="bi bi-search search-standalone-icon"></i>
                    <!-- [FIXED] ID ADDED HERE -->
                    <input type="text" id="globalSearch" class="search-standalone-input" placeholder="Cari sesuatu...">
                </div>

                <!-- Notification Bell -->
                <div class="notification-wrapper dropdown">
                    <div class="notification-btn" data-bs-toggle="dropdown" aria-expanded="false"
                        data-bs-display="static">
                        <i class="bi bi-bell"></i>
                        <div class="notification-dot-red"></div>
                    </div>
                    <ul class="dropdown-menu notification-dropdown-menu">
                        <div
                            class="d-flex justify-content-between align-items-center px-3 py-2 border-bottom border-secondary border-opacity-10 mb-2">
                            <h6 class="mb-0 fw-bold text-white">Notifikasi</h6>
                            <span class="badge bg-danger rounded-pill">3 Baru</span>
                        </div>

                        <li><a class="notification-item" href="#">
                                <div class="notif-icon-box bg-soft-danger"><i class="bi bi-exclamation-octagon"></i>
                                </div>
                                <div class="notif-content">
                                    <h6>System Alert</h6>
                                    <p>CPU Usage above 90% detected.</p>
                                    <span class="notif-time">2 mins ago</span>
                                </div>
                            </a></li>

                        <li><a class="notification-item" href="#">
                                <div class="notif-icon-box bg-soft-success"><i class="bi bi-cart-check"></i></div>
                                <div class="notif-content">
                                    <h6>New Order</h6>
                                    <p>Received order #ORD-248 from Budi.</p>
                                    <span class="notif-time">15 mins ago</span>
                                </div>
                            </a></li>

                        <li><a class="notification-item" href="#">
                                <div class="notif-icon-box bg-soft-info"><i class="bi bi-info-circle"></i></div>
                                <div class="notif-content">
                                    <h6>Server Update</h6>
                                    <p>Server scheduled for maintenance.</p>
                                    <span class="notif-time">1 hour ago</span>
                                </div>
                            </a></li>

                        <div class="px-2 pt-2"><button class="btn btn-outline-secondary btn-sm w-100 rounded-pill"
                                style="font-size: 0.75rem;">Tandai Semua Dibaca</button></div>
                    </ul>
                </div>
            </div>




            <!-- START OF CONTENT HERE -->
            <!-- Page Header -->
            <div class="active-page-header">
                <div class="row align-items-center justify-content-between">
                    <div class="col-lg-7 mb-3 mb-lg-0">
                        <h1 class="page-title-large">Exams & Grading</h1>
                        <p class="text-muted mb-0">Kelola jadwal ujian, input nilai, dan analisis performa siswa secara
                            real-time.</p>
                    </div>
                    <div class="col-lg-5 text-lg-end">
                        <div class="d-flex flex-column align-items-lg-end align-items-start gap-3">
                            <span class="badge bg-soft-purple text-uppercase fw-bold px-3 py-2 rounded-pill"><i
                                    class="bi bi-calendar-check me-2"></i>Academic Year 2024/2025</span>
                            <nav class="breadcrumb-modern">
                                <a href="#" class="breadcrumb-item-custom"><i class="bi bi-house-door-fill"></i></a>
                                <i class="bi bi-chevron-right breadcrumb-sep"></i>
                                <span class="breadcrumb-item-custom">Akademik</span>
                                <i class="bi bi-chevron-right breadcrumb-sep"></i>
                                <span class="breadcrumb-item-custom active">Exams</span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>


            <!-- START OF COPYRIGHT FOOTER SECTION -->
            <footer class=" footer-dashboard">
                <div class="row align-items-center justify-content-between">
                    <div class="col-md-6 text-center text-md-start mb-2 mb-md-0">
                        <p class="mb-0 small text-muted">Copyright &copy; 2025
                            <strong class="text-white">Nexus
                                Admin</strong>. All rights reserved.
                        </p>
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <div class="d-flex justify-content-center justify-content-md-end gap-3">
                            <a href="#" class="footer-link">Kebijakan
                                Privasi</a>
                            <a href="#" class="footer-link">Syarat &
                                Ketentuan</a>
                            <a href="#" class="footer-link">Bantuan</a>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- END OF COPYRIGHT FOOTER -->
        </main>
    </div>

    <!-- Theme Toggle Floating (Maintained) -->
    <div class="floating-btn" id="themeToggle"><i class="bi bi-moon-fill" id="themeIcon"></i></div>

    <!-- MODALS (Hidden by default) -->
    <div class="modal fade" id="createExamModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content bg-card text-main border border-secondary border-opacity-25 shadow-lg">
                <div class="modal-header border-bottom border-secondary border-opacity-25">
                    <h5 class="modal-title fw-bold">Buat Ujian Baru</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <form>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label text-muted small text-uppercase fw-bold">Nama Ujian</label>
                                <input type="text" class="form-control form-control-nexus"
                                    placeholder="Contoh: UTS Matematika">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label text-muted small text-uppercase fw-bold">Mata Pelajaran</label>
                                <select class="form-select form-select-nexus">
                                    <option>Pilih Mata Pelajaran...</option>
                                    <option>Matematika</option>
                                    <option>Fisika</option>
                                    <option>Bahasa Inggris</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label text-muted small text-uppercase fw-bold">Kelas</label>
                                <select class="form-select form-select-nexus">
                                    <option>10 IPA 1</option>
                                    <option>10 IPA 2</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label text-muted small text-uppercase fw-bold">Tanggal</label>
                                <input type="date" class="form-control form-control-nexus">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label text-muted small text-uppercase fw-bold">Durasi (Menit)</label>
                                <input type="number" class="form-control form-control-nexus" value="60">
                            </div>
                            <div class="col-12">
                                <label class="form-label text-muted small text-uppercase fw-bold">Deskripsi /
                                    Instruksi</label>
                                <textarea class="form-control form-control-nexus" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer border-top border-secondary border-opacity-25">
                    <button type="button" class="btn btn-outline-secondary rounded-pill"
                        data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-nexus-primary rounded-pill px-4">Buat Jadwal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL: EXAM DETAIL (MONITORING) -->
    <div class="modal fade" id="detailModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content bg-card text-main border border-secondary border-opacity-25 shadow-lg">
                <div class="modal-header border-bottom border-secondary border-opacity-25 bg-gradient-header">
                    <div>
                        <h5 class="modal-title fw-bold">Monitoring: Matematika Wajib</h5>
                        <small class="text-muted"><i class="bi bi-circle-fill text-success small me-1"></i> Live
                            Session</small>
                    </div>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="row g-0">
                        <div class="col-md-8 p-4 border-end border-secondary border-opacity-25">
                            <h6 class="mb-3 text-uppercase fw-bold text-muted small">Peserta (30 Online)</h6>
                            <div class="d-flex flex-wrap gap-2">
                                <div class="position-relative" title="Adi - Mengerjakan">
                                    <div class="avatar-modern bg-success text-white" style="width:40px;height:40px;">AD
                                    </div>
                                    <span
                                        class="position-absolute bottom-0 end-0 p-1 bg-success border border-dark rounded-circle"></span>
                                </div>
                                <div class="position-relative" title="Budi - Mengerjakan">
                                    <div class="avatar-modern bg-success text-white" style="width:40px;height:40px;">BS
                                    </div>
                                    <span
                                        class="position-absolute bottom-0 end-0 p-1 bg-success border border-dark rounded-circle"></span>
                                </div>
                                <div class="position-relative" title="Citra - Idle">
                                    <div class="avatar-modern bg-warning text-dark" style="width:40px;height:40px;">CM
                                    </div>
                                    <span
                                        class="position-absolute bottom-0 end-0 p-1 bg-warning border border-dark rounded-circle"></span>
                                </div>
                                <div class="avatar-modern bg-secondary text-white opacity-50"
                                    style="width:40px;height:40px;">+25</div>
                            </div>

                            <div class="mt-4">
                                <h6 class="mb-3 text-uppercase fw-bold text-muted small">Progress Pengerjaan</h6>
                                <div class="progress" style="height: 15px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 20%"
                                        title="Selesai">20%</div>
                                    <div class="progress-bar bg-primary progress-bar-striped progress-bar-animated"
                                        role="progressbar" style="width: 60%" title="Sedang Mengerjakan">60%</div>
                                    <div class="progress-bar bg-secondary" role="progressbar" style="width: 20%"
                                        title="Belum Mulai">20%</div>
                                </div>
                                <div class="d-flex justify-content-between mt-2 small text-muted">
                                    <span>Selesai: 6 Siswa</span>
                                    <span>Aktif: 18 Siswa</span>
                                    <span>Belum: 6 Siswa</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 p-4 bg-dark bg-opacity-25">
                            <h6 class="mb-3 text-uppercase fw-bold text-muted small">Log Aktivitas</h6>
                            <div class="d-flex flex-column gap-3 small" style="max-height: 300px; overflow-y: auto;">
                                <div class="d-flex gap-2">
                                    <span class="text-muted">10:05</span>
                                    <span><strong>Adi</strong> menyelesaikan ujian.</span>
                                </div>
                                <div class="d-flex gap-2">
                                    <span class="text-muted">10:02</span>
                                    <span class="text-warning"><strong>Citra</strong> terdeteksi membuka tab
                                        baru.</span>
                                </div>
                                <div class="d-flex gap-2">
                                    <span class="text-muted">09:55</span>
                                    <span><strong>Budi</strong> memulai ujian.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-top border-secondary border-opacity-25">
                    <button class="btn btn-outline-danger btn-sm rounded-pill"><i class="bi bi-stop-circle me-1"></i>
                        Hentikan Sesi</button>
                    <button class="btn btn-nexus-primary btn-sm rounded-pill" data-bs-dismiss="modal">Tutup
                        Monitoring</button>
                </div>
            </div>
        </div>
    </div>

    <!-- TOAST NOTIFICATION -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
        <div id="liveToast" class="toast bg-card text-main border-secondary border-opacity-25" role="alert"
            aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-card text-main border-bottom border-secondary border-opacity-25">
                <i class="bi bi-check-circle-fill text-success me-2"></i>
                <strong class="me-auto">System Notification</strong>
                <small>Just now</small>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Data nilai berhasil disimpan ke server.
            </div>
        </div>
    </div>
    <!-- JS Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>

    /* ======================================================================
              GLOBAL JS (SIDEBAR, THEME, MOBILE MENU)
====================================================================== */
const body = document.body;
const sidebar = document.getElementById("sidebar");
const collapseBtn = document.getElementById("collapseBtn");
const themeToggle = document.getElementById("themeToggle");
const themeIcon = document.getElementById("themeIcon");
const menuThemeSwitch = document.getElementById("menuThemeSwitch"); // New Switch in Dropdown
const mobileBtn = document.getElementById("mobileMenuBtn"); // [FIX] Grab element
const overlay = document.getElementById("sidebarOverlay"); // [FIX] Grab overlay

// Function to handle Theme Change
function toggleTheme() {
    body.classList.toggle("light-mode");
    const isLight = body.classList.contains("light-mode");

    // Update Icons
    if (themeIcon) themeIcon.classList.replace(isLight ? "bi-moon-fill" : "bi-sun-fill", isLight ? "bi-sun-fill" : "bi-moon-fill");

    // Update Local Storage
    localStorage.setItem("nexus_theme", isLight ? "light" : "dark");

    // Sync Checkbox state (if toggled via floating btn)
    if (menuThemeSwitch) menuThemeSwitch.checked = !isLight; // Dark mode = checked

    // Update Revenue Chart Color if exists (DASHBOARD ONLY)
    if (window.revenueChartInstance) {
        window.revenueChartInstance.options.scales.x.grid.color = isLight ? 'rgba(0,0,0,0.05)' : 'rgba(255,255,255,0.05)';
        window.revenueChartInstance.options.scales.y.grid.color = isLight ? 'rgba(0,0,0,0.05)' : 'rgba(255,255,255,0.05)';
        window.revenueChartInstance.update();
    }
}

// Initial Theme Load
if (localStorage.getItem("nexus_theme") === "light") {
    body.classList.add("light-mode");
    if (themeIcon) themeIcon.classList.replace("bi-moon-fill", "bi-sun-fill");
    if (menuThemeSwitch) menuThemeSwitch.checked = false;
} else {
    if (menuThemeSwitch) menuThemeSwitch.checked = true; // Default Dark
}

// Event Listeners
themeToggle?.addEventListener("click", toggleTheme);

// Listener for the new switch inside profile menu
menuThemeSwitch?.addEventListener("change", () => {
    // If checked, we want DARK mode. If unchecked, LIGHT mode.
    // Current logic: light-mode class means Light. No class means Dark.

    if (menuThemeSwitch.checked) {
        // User wants Dark
        if (body.classList.contains("light-mode")) {
            toggleTheme();
        }
    } else {
        // User wants Light
        if (!body.classList.contains("light-mode")) {
            toggleTheme();
        }
    }
});


// [MODIFIED] Sidebar & Mobile Logic
function closeMobileMenu() {
    sidebar.classList.remove("active");
    if (overlay) overlay.classList.remove("show");
}

function toggleMobileMenu() {
    sidebar.classList.toggle("active");
    if (overlay) overlay.classList.toggle("show");
}

// Collapse Button Logic (Modified for Mobile Close)
if (collapseBtn) {
    collapseBtn.addEventListener("click", () => {
        // Jika layar kecil (mobile), tombol ini jadi tombol CLOSE
        if (window.innerWidth <= 768) {
            closeMobileMenu();
        } else {
            // Desktop: Collapse sidebar biasa
            sidebar.classList.toggle("collapsed");
            body.classList.toggle("sidebar-collapsed");
        }
    });
}

// Mobile Hamburger Button
if (mobileBtn) {
    mobileBtn.addEventListener("click", toggleMobileMenu);
}

// Overlay Click to Close
if (overlay) {
    overlay.addEventListener("click", closeMobileMenu);
}
  </script>
       
</body>

</html>